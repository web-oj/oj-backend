(()=>{var e={};e.id=330,e.ids=[330],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},49411:e=>{"use strict";e.exports=require("node:path")},97742:e=>{"use strict";e.exports=require("node:process")},41041:e=>{"use strict";e.exports=require("node:url")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},73361:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(25407),r(99277),r(68032),r(51266),r(26083),r(19644),r(96560);var s=r(23191),i=r(88716),n=r(37922),o=r.n(n),l=r(95231),a={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(a[e]=()=>l[e]);r.d(t,a);let d=["",{children:["(dashboard)",{children:["contests",{children:["edit",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,25407)),"E:\\oj-frontend\\app\\(dashboard)\\contests\\edit\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,99277)),"E:\\oj-frontend\\app\\(dashboard)\\contests\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,68032)),"E:\\oj-frontend\\app\\(dashboard)\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,51266)),"E:\\oj-frontend\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,26083)),"E:\\oj-frontend\\app\\error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,19644)),"E:\\oj-frontend\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,96560)),"E:\\oj-frontend\\app\\not-found.tsx"]}],c=["E:\\oj-frontend\\app\\(dashboard)\\contests\\edit\\[id]\\page.tsx"],u="/(dashboard)/contests/edit/[id]/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(dashboard)/contests/edit/[id]/page",pathname:"/contests/edit/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},39308:(e,t,r)=>{Promise.resolve().then(r.bind(r,33231)),Promise.resolve().then(r.bind(r,35958)),Promise.resolve().then(r.bind(r,85760)),Promise.resolve().then(r.bind(r,65662)),Promise.resolve().then(r.bind(r,83936))},63782:(e,t,r)=>{Promise.resolve().then(r.bind(r,49251))},26411:(e,t,r)=>{"use strict";r.d(t,{ContestProvider:()=>o,Y:()=>l});var s=r(10326),i=r(17577);let n=(0,i.createContext)({}),o=({children:e,contest:t})=>{let[r,o]=(0,i.useState)(t);return s.jsx(n.Provider,{value:{data:r,setData:o},children:e})},l=()=>{let e=(0,i.useContext)(n);if(void 0===e)throw Error("useContest must be used within a ContestProvider");return e}},35958:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var s=r(10326),i=r(30752),n=r(24402);function o(){return s.jsx(n.o8,{rightContents:s.jsx(i.A,{color:"primary",form:"update-contest-form",radius:"full",type:"submit",children:"Update"})})}},33231:(e,t,r)=>{"use strict";r.d(t,{FastCheckTable:()=>o});var s=r(10326),i=r(12259),n=r(24402);function o(e){let{data:t}=(0,i.N)(),r=[{label:"Title",value:t?t.title:"N/A"},{label:"Start Time",value:t?t.startTime:"N/A"},{label:"End Time",value:t?t.endTime:"N/A"},{label:"Scoring Rule",value:t?t.scoringRule:"N/A"},{label:"Plagiarism Check",value:t?t.isPlagiarismCheckEnabled:"N/A"},{label:"Published",value:t?t.isPublished:"N/A"},{label:"Description",value:t?t.description:"N/A"}];return s.jsx(n.EY,{fullwidth:!0,classnames:{wrapper:"w-full bg-foreground-50 rounded-large p-4"},direction:"column",space:"sm",children:r.map((e,t)=>s.jsx(n.gN,{fullWidth:!0,classNames:{wrapper:"justify-between"},direction:"row",label:e.label,value:e.value},t))})}},85760:(e,t,r)=>{"use strict";r.d(t,{UpdateContestForm:()=>S});var s=r(10326),i=r(19839),n=r(54802),o=r(83428),l=r(74723),a=r(17577),d=r.n(a),c=r(93983),u=r(31190),m=r(12259),p=r(20361),h=r(89645),x=r(15718),f=r(82944),b=r(26411),j=r(29684),g=r(3482),v=r(30752),w=r(84060),P=r(91122),y=r(81345),C=r(52822),T=r(13192),E=r(24402);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */let k=(0,r(39950).Z)("Delete01Icon",[["path",{d:"M19.5 5.5L18.8803 15.5251C18.7219 18.0864 18.6428 19.3671 18.0008 20.2879C17.6833 20.7431 17.2747 21.1273 16.8007 21.416C15.8421 22 14.559 22 11.9927 22C9.42312 22 8.1383 22 7.17905 21.4149C6.7048 21.1257 6.296 20.7408 5.97868 20.2848C5.33688 19.3626 5.25945 18.0801 5.10461 15.5152L4.5 5.5",stroke:"currentColor",key:"k0"}],["path",{d:"M3 5.5H21M16.0557 5.5L15.3731 4.09173C14.9196 3.15626 14.6928 2.68852 14.3017 2.39681C14.215 2.3321 14.1231 2.27454 14.027 2.2247C13.5939 2 13.0741 2 12.0345 2C10.9688 2 10.436 2 9.99568 2.23412C9.8981 2.28601 9.80498 2.3459 9.71729 2.41317C9.32164 2.7167 9.10063 3.20155 8.65861 4.17126L8.05292 5.5",stroke:"currentColor",key:"k1"}]]);var q=r(70232);function N(e){let{data:t}=(0,b.Y)(),{problemsInContest:r,setProblemsInContest:n}=e,{isOpen:o,onOpenChange:l,onClose:a,onOpen:c}=(0,j.q)(),u=({score:e=0,problemId:t=0}={})=>{n([...r,{score:e,problemId:t}])},m=e=>{n(r.filter(t=>t.problemId!==e))},p=(e,t)=>{n(r.map(r=>r.problemId===e?{...r,score:t}:r))},x=({score:e,problemId:t})=>(0,s.jsxs)(E.EY,{direction:"row",className:"bg-foreground-50 p-2 rounded-lg",classnames:{container:"items-center justify-between"},children:[(0,s.jsxs)(E.EY,{direction:"row",space:"sm",children:[(0,s.jsxs)(g.O,{href:`/problems/${t}`,className:"text-foreground-500",children:["#",t]}),s.jsx(i.Y,{type:"number",label:"Score",labelPlacement:"outside-left",value:e.toString(),onChange:e=>p(t,parseInt(e.target.value))})]}),s.jsx(v.A,{onClick:()=>m(t),size:"sm",color:"danger",isIconOnly:!0,radius:"full",children:s.jsx(k,{size:16})})]});return(0,s.jsxs)(E.EY,{direction:"column",fullwidth:!0,label:"Add Problems",children:[s.jsx(E.EY,{direction:"row",fullwidth:!0,space:"sm",classnames:{container:"flex-wrap"},children:r.map(e=>s.jsx(x,{...e},e.problemId))}),(0,s.jsxs)(s.Fragment,{children:[s.jsx(v.A,{color:"secondary",radius:"full",onClick:c,children:"Add Problems"}),s.jsx(w.R,{isOpen:o,onOpenChange:l,classNames:{base:"bg-foreground-100"},children:(0,s.jsxs)(P.A,{children:[s.jsx(y.k,{children:"Add Problems"}),s.jsx(C.I,{children:s.jsx(()=>{let[e,t]=d().useState([]);d().useEffect(()=>{(0,h.kT)().then(e=>{let s=new Set(r.map(e=>e.problemId));t(e.filter(e=>!s.has(e.id)))})},[]);let i=e=>(0,s.jsxs)(E.EY,{direction:"row",fullwidth:!0,className:"bg-foreground-50 p-2 rounded-lg shadow-sm hover:scale-[1.01] transition-transform ease-in-out cursor-pointer",classnames:{container:"items-center justify-between"},space:"sm",children:[(0,s.jsxs)(E.EY,{direction:"column",space:"sm",children:[s.jsx(g.O,{href:`/problems/${e.id}`,className:"text-foreground-500",children:e.id}),s.jsx("p",{children:e.title})]}),s.jsx(v.A,{size:"sm",color:"secondary",isIconOnly:!0,radius:"full",onClick:()=>u({problemId:e.id}),children:s.jsx(q.Z,{size:16})})]},e.id);return s.jsx(E.EY,{fullwidth:!0,direction:"column",space:"sm",children:e.map(e=>s.jsx(i,{...e},e.id))})},{})}),s.jsx(T.R,{children:s.jsx(v.A,{color:"primary",radius:"full",onClick:a,children:"Close"})})]})})]})]})}function S(e){let{data:t}=(0,b.Y)(),{register:r,handleSubmit:a,formState:{errors:j,isValid:g},watch:v}=(0,l.cI)({mode:"onBlur",defaultValues:{title:t.title,startTime:t.startTime,endTime:t.endTime,ruleText:t.ruleText,scoringRule:t.scoringRule,description:t.description,isPublished:t.isPublished}}),{data:w,setData:P}=(0,m.N)(),{user:y}=(0,x.a)(),[C,T]=d().useState(t.description),[E,k]=d().useState([]),q=async e=>{if(!y){u.Am.error("You must be logged in to create a contest");return}try{await (0,h.ct)({id:t.id,data:{isPublished:e.isPublished||t.isPublished,scoringRule:e.scoringRule||t.scoringRule,endTime:new Date(e.endTime).getTime()||t.endTime,startTime:new Date(e.startTime).getTime()||t.startTime,ruleText:e.scoringRule||t.scoringRule,description:C||t.description,title:e.title}});let r=t.problemsInContest||[];console.log(E,r);let s=E.filter(e=>!r.some(t=>t.problemId===e.problemId)).map(e=>({problemId:e.problemId,score:e.score})),i=r.filter(e=>!E.some(t=>t.problemId===e.problemId)).map(e=>({problemId:e.id}));for(let e of s)try{await (0,h.SC)({contestId:t.id,problemId:e.problemId,score:e.score})}catch(e){u.Am.error("Failed to add problem to contest")}for(let e of i)try{await (0,h.T0)({id:t.id,problemId:e.problemId})}catch(e){u.Am.error("Failed to remove problem from contest")}u.Am.success("Contest updated successfully")}catch(e){u.Am.error("Failed to update contest")}},S={title:r("title",{maxLength:{value:200,message:"Title must be less than 200 characters"}}),startTime:r("startTime"),endTime:r("endTime"),scoringRule:r("scoringRule"),ruleText:r("ruleText"),isPublished:r("isPublished"),description:r("description")};return v(),(0,s.jsxs)("form",{...e,className:"flex flex-col gap-4 lg:min-w-[48ch] overflow-auto",id:"update-contest-form",onSubmit:a(q,(e,t)=>{console.log(e)}),children:[s.jsx(i.Y,{isRequired:!0,required:!0,description:"Max length 200",label:"Title",labelPlacement:"outside",placeholder:"Title",radius:"full",type:"text",...S.title}),s.jsx(c.B,{errors:j,name:"title",render:({message:e})=>s.jsx("p",{className:"text-red-500 text-sm",children:e})}),s.jsx(f.Z,{label:"Description",markdown:C,placeholder:"Type the description here",register:S.description,setMarkdown:T}),s.jsx(c.B,{errors:j,name:"description",render:({message:e})=>s.jsx("p",{className:"text-red-500 text-sm",children:e})}),(0,s.jsxs)(p.E,{fullwidth:!0,direction:"column",children:[s.jsx(i.Y,{isRequired:!0,label:"Start Time",labelPlacement:"outside",placeholder:"Start Time",radius:"full",type:"datetime-local",value:new Date(Number(t.startTime)).toISOString().slice(0,16),...S.startTime}),s.jsx(i.Y,{isRequired:!0,label:"End Time",labelPlacement:"outside",placeholder:"End Time",radius:"full",type:"datetime-local",value:new Date(Number(t.endTime)).toISOString().slice(0,16),...S.endTime})]}),s.jsx(c.B,{errors:j,name:"startTime",render:({message:e})=>s.jsx("p",{className:"text-red-500 text-sm",children:e})}),s.jsx(c.B,{errors:j,name:"endTime",render:({message:e})=>s.jsx("p",{className:"text-red-500 text-sm",children:e})}),s.jsx(n.Y,{isRequired:!0,required:!0,classNames:{base:"max-h-[200ch]"},label:"Scoring Rule",labelPlacement:"outside",placeholder:"Type the scoring rule here",radius:"full",...S.scoringRule}),s.jsx(c.B,{errors:j,name:"scoringRule",render:({message:e})=>s.jsx("p",{className:"text-red-500 text-sm",children:e})}),s.jsx(n.Y,{isRequired:!0,required:!0,classNames:{base:"max-h-[200ch]"},label:"Rule Text",labelPlacement:"outside",placeholder:"Type the rule text here",radius:"full",...S.ruleText}),s.jsx(c.B,{errors:j,name:"ruleText",render:({message:e})=>s.jsx("p",{className:"text-red-500 text-sm",children:e})}),s.jsx(p.E,{fullwidth:!0,classnames:{container:"justify-between"},direction:"row",space:"sm",children:s.jsx(o.K,{...S.isPublished,onValueChange:e=>{S.isPublished.onChange({target:{value:e}})},children:"Published"})}),s.jsx(N,{problemsInContest:E,setProblemsInContest:k})]})}},12259:(e,t,r)=>{"use strict";r.d(t,{N:()=>n});var s=r(17577);let i=(0,s.createContext)({}),n=()=>(0,s.useContext)(i)},65662:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(10326);r(17577);var i=r(26411);function n({contest:e,children:t}){return s.jsx(i.ContestProvider,{contest:e,children:t})}},49251:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var s=r(10326);function i(e){return s.jsx(s.Fragment,{children:e.children})}},82944:(e,t,r)=>{"use strict";r.d(t,{Z:()=>j});var s=r(10326),i=r(57766),n=r(29684),o=r(54802),l=r(84060),a=r(91122),d=r(81345),c=r(52822),u=r(13192),m=r(30752),p=r(17577),h=r.n(p),x=r(60390);r(32289);var f=r(32420);let b=h().forwardRef((e,t)=>{let{markdown:r,setMarkdown:p,register:h,...b}=e,{isOpen:j,onOpen:g,onClose:v}=(0,n.q)();return(0,s.jsxs)(s.Fragment,{children:[s.jsx(o.Y,{isRequired:!0,required:!0,classNames:{inputWrapper:"bg-foreground-50"},description:(0,s.jsxs)("p",{children:["Support ",s.jsx("b",{children:"markdown"})," and ",s.jsx("b",{children:"latex"})," syntax"]}),label:e.label,labelPlacement:"outside",placeholder:e.placeholder,radius:"full",value:r,onClick:g,...h}),s.jsx(l.R,{isOpen:j,size:"5xl",onClose:v,...b,children:(0,s.jsxs)(a.A,{children:[s.jsx(d.k,{children:"Statement Editor"}),s.jsx(c.I,{children:(0,s.jsxs)(x.EY,{fullheight:!0,fullwidth:!0,direction:"row",children:[s.jsx(i.ML,{height:"75vh",language:"markdown",options:{fontSize:16,minimap:{enabled:!1}},theme:"light",value:r,width:"50%",onChange:e=>{p(e)}}),s.jsx(f.o,{data:r})]})}),s.jsx(u.R,{children:s.jsx(m.A,{color:"primary",radius:"full",onClick:v,children:"Close"})})]})})]})});b.displayName="EditorInputMarkdown";let j=b},32420:(e,t,r)=>{"use strict";r.d(t,{o:()=>u});var s=r(10326);r(70778);var i=r(42277),n=r(27490),o=r(68978),l=r(8513),a=r(65149),d=r(95610),c=r(4171);function u(e){let{data:t,className:r}=e;return s.jsx(i.U,{className:"markdown",rehypePlugins:[n.Z,a.Z,c.Z],remarkPlugins:[l.Z,o.Z,d.Z],children:t})}},93983:(e,t,r)=>{"use strict";r.d(t,{B:()=>n});var s=r(17577),i=r(74723),n=function(e){var t=e.as,r=e.errors,n=e.name,o=e.message,l=e.render,a=function(e,t){if(null==e)return{};var r,s,i={},n=Object.keys(e);for(s=0;s<n.length;s++)t.indexOf(r=n[s])>=0||(i[r]=e[r]);return i}(e,["as","errors","name","message","render"]),d=(0,i.Gc)(),c=(0,i.U2)(r||d.formState.errors,n);if(!c)return null;var u=c.message,m=c.types,p=Object.assign({},a,{children:u||o});return s.isValidElement(t)?s.cloneElement(t,p):l?l({message:u||o,messages:m}):s.createElement(t||s.Fragment,p)}},70232:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(39950).Z)("Add01Icon",[["path",{d:"M12 4V20",stroke:"currentColor",key:"k0"}],["path",{d:"M4 12H20",stroke:"currentColor",key:"k1"}]])},25407:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>k});var s=r(19510),i=r(68570);let n=(0,i.createProxy)(String.raw`E:\oj-frontend\app\(dashboard)\contests\edit\[id]\components\update-contest-form\UpdateContestForm.tsx`),{__esModule:o,$$typeof:l}=n;n.default;let a=(0,i.createProxy)(String.raw`E:\oj-frontend\app\(dashboard)\contests\edit\[id]\components\update-contest-form\UpdateContestForm.tsx#UpdateContestForm`);var d=r(79223);function c(){return s.jsx(d.E,{fullheight:!0,fullwidth:!0,direction:"column",children:s.jsx(a,{})})}let u=(0,i.createProxy)(String.raw`E:\oj-frontend\app\(dashboard)\contests\edit\[id]\components\fast-check-table\FastCheckTable.tsx`),{__esModule:m,$$typeof:p}=u;u.default;let h=(0,i.createProxy)(String.raw`E:\oj-frontend\app\(dashboard)\contests\edit\[id]\components\fast-check-table\FastCheckTable.tsx#FastCheckTable`);var x=r(42108);function f(){return s.jsx(x.EY,{fullwidth:!0,children:s.jsx(h,{})})}let b=(0,i.createProxy)(String.raw`E:\oj-frontend\app\(dashboard)\contests\edit\[id]\components\Toolbar.tsx`),{__esModule:j,$$typeof:g}=b;b.default;let v=(0,i.createProxy)(String.raw`E:\oj-frontend\app\(dashboard)\contests\edit\[id]\components\Toolbar.tsx#default`);var w=r(58343),P=r(58585);let y=(0,i.createProxy)(String.raw`E:\oj-frontend\app\(dashboard)\contests\edit\[id]\providers.tsx`),{__esModule:C,$$typeof:T}=y;y.default;let E=(0,i.createProxy)(String.raw`E:\oj-frontend\app\(dashboard)\contests\edit\[id]\providers.tsx#default`);async function k({params:e}){let{id:t}=e,r=async()=>await (0,w.Aw)({id:parseInt(t)}),i=await r();return i||(0,P.notFound)(),s.jsx(E,{contest:i,children:s.jsx(x._z,{children:(0,s.jsxs)(x.EY,{fullheight:!0,fullwidth:!0,className:"overflow-hidden",direction:"column",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Update Contest"}),s.jsx(v,{}),(0,s.jsxs)(x.EY,{fullheight:!0,fullwidth:!0,className:"overflow-hidden",direction:"row",space:"lg",children:[s.jsx(c,{}),s.jsx(f,{})]})]})})})}},99277:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,metadata:()=>d});var s=r(19510),i=r(68570);let n=(0,i.createProxy)(String.raw`E:\oj-frontend\app\(dashboard)\contests\providers.tsx`),{__esModule:o,$$typeof:l}=n;n.default;let a=(0,i.createProxy)(String.raw`E:\oj-frontend\app\(dashboard)\contests\providers.tsx#default`),d={title:"All Contests"};function c(e){return s.jsx(a,{children:e.children})}},70778:()=>{}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[304,386,518,428,766,734,723,264,763,458],()=>r(73361));module.exports=s})();