(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5827],{9919:function(e,r,t){Promise.resolve().then(t.bind(t,57839)),Promise.resolve().then(t.bind(t,17368)),Promise.resolve().then(t.bind(t,57941))},57839:function(e,r,t){"use strict";t.d(r,{default:function(){return i}});var n=t(57437),a=t(16463),o=t(41980);function i(e){let{user:r}=(0,o.a)(),t=(0,a.useRouter)();return r&&t.push("/dashboard"),(0,n.jsx)(n.Fragment,{children:e.children})}},17368:function(e,r,t){"use strict";t.d(r,{default:function(){return p}});var n=t(57437),a=t(75978),o=t(14950),i=t(46064),s=t(39343);t(2265);var l=t(67997),c=t(16463),u=t(51706),d=t(95956),f=t(92849),h=t(41980);function m(e){let r=(0,c.useRouter)(),{register:t,handleSubmit:a,formState:{errors:o}}=(0,s.cI)(),{login:m}=(0,h.a)(),p=async e=>{try{let t=await (0,f.x4)(e);console.log("Login successful",t),m(t),d.Am.success("Login successful"),r.push("/dashboard")}catch(e){d.Am.error("Login failed"),console.error("Login failed",e)}},g={email:t("email",{required:"Email is required"}),password:t("password",{required:"Password is required"})};return(0,n.jsxs)("form",{...e,className:"flex flex-col gap-1 lg:min-w-[48ch]",onSubmit:a(p,e=>{console.log(e)}),children:[(0,n.jsx)(i.Y,{className:"mb-4",placeholder:"Email",radius:"full",size:"lg",type:"text",...g.email}),(0,n.jsx)(i.Y,{className:"mb-4",placeholder:"Password",radius:"full",size:"lg",type:"password",...g.password}),(0,n.jsx)(u.B,{errors:o,name:"email",render:e=>{let{message:r}=e;return(0,n.jsx)("p",{className:"text-red-500",children:r})}}),(0,n.jsx)(u.B,{errors:o,name:"password",render:e=>{let{message:r}=e;return(0,n.jsx)("p",{className:"text-red-500",children:r})}}),(0,n.jsx)(l.A,{fullWidth:!0,color:"primary",radius:"full",size:"lg",type:"submit",children:"Login"})]})}function p(){return(0,n.jsxs)(o.E.section,{animate:{opacity:1,y:0},className:"flex flex-col gap-6 max-w-screen-sm lg:my-16",initial:{opacity:0,y:-20},transition:{duration:.5},children:[(0,n.jsxs)(o.E.div,{animate:{opacity:1,y:0},initial:{opacity:0,y:-20},transition:{duration:.5,delay:.2},children:[(0,n.jsx)("h2",{className:"font-bold text-2xl lg:text-4xl text-foreground",children:"Login your account"}),(0,n.jsx)("p",{className:"text-base text-foreground-500",children:"Explore and practice problems, contest and so on"})]}),(0,n.jsx)(o.E.div,{animate:{opacity:1,y:0},initial:{opacity:0,y:-20},transition:{duration:.5,delay:.4},children:(0,n.jsx)(m,{})}),(0,n.jsxs)(o.E.p,{animate:{opacity:1,y:0},className:"text-base text-foreground-500 text-center w-full",initial:{opacity:0,y:-20},transition:{duration:.5,delay:.6},children:["Don't have an account?"," ",(0,n.jsx)(a.O,{className:"text-primary",href:"./register",children:"Sign up"})]})]})}},41980:function(e,r,t){"use strict";t.d(r,{H:function(){return l},a:function(){return c}});var n=t(57437),a=t(2265),o=t(44785),i=t(92849);let s=(0,a.createContext)(void 0),l=e=>{let{children:r}=e,[t,l]=(0,a.useState)(null),[c,u]=(0,a.useState)(!1),[d,f]=(0,a.useState)(null),h=a.useCallback(async()=>{try{if(!d)return;let e=await (0,i.TO)();l(e),console.log("Fetched user",e)}catch(e){console.error("Failed to fetch user",e)}},[d]);return(0,a.useEffect)(()=>{let e=o.Z.get("token");e&&f(e),o.Z.get("cookieConsent")||u(!0)},[]),(0,a.useEffect)(()=>{null===t&&h()},[t,h,d]),(0,n.jsx)(s.Provider,{value:{user:t,login:e=>{if(!e)throw Error("Token is required");o.Z.set("token",e),f(e)},logout:()=>{o.Z.remove("token"),l(null)},showCookieConsent:c,allowCookies:()=>{o.Z.set("cookieConsent","true"),u(!1)}},children:r})},c=()=>{let e=(0,a.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},57941:function(e,r,t){"use strict";t.r(r),t.d(r,{Field:function(){return i}});var n=t(57437),a=t(97481),o=t(96164);function i(e){let{label:r,value:t,direction:i="row",fullWidth:s=!1,fullHeight:l=!1,showLabel:c=!0,icon:u,classNames:d}=e;return(0,n.jsxs)("div",{className:(0,o.m6)("flex gap-1 justify-center items-center w-fit h-fit","column"===i&&"flex-col",s&&"w-full",l&&"h-full",null==d?void 0:d.wrapper),children:[(0,n.jsx)(a.e,{content:r,placement:"top",children:u}),c&&(0,n.jsx)("div",{className:(0,o.m6)("text-sm font-medium text-foreground",null==d?void 0:d.label),children:r}),(0,n.jsx)("div",{className:(0,o.m6)("text-sm",null==d?void 0:d.value),children:t})]})}},92849:function(e,r,t){"use strict";t.d(r,{bg:function(){return f},Rf:function(){return u},fP:function(){return h},TO:function(){return l},x4:function(){return s},y1:function(){return i},uJ:function(){return d}});var n=t(38472),a=t(44785);t(20357).env.NEXT_PUBLIC_API_VERSION;let o=n.Z.create({baseURL:"http://54.179.65.18:3000"});async function i(e){try{return(await o.post("/user",e)).data.data}catch(e){throw console.error("Failed to sign up",e),Error("Failed to sign up")}}async function s(e){try{return(await o.post("/user/login",e)).data.data.token}catch(e){throw Error("Failed to sign in")}}async function l(){try{let e=await o.get("/user/id");return await c({id:e.data.data.id})}catch(e){throw console.error(e),Error("Failed to fetch user by token")}}async function c(e){try{return(await o.get("/user/".concat(e.id))).data.data}catch(e){throw console.error(e),Error("Failed to fetch user by ID")}}async function u(e){try{return(await o.post("/problem",e)).data}catch(e){throw console.log(e),Error("Failed to create problem")}}async function d(e){try{return(await o.patch("/problem/id/".concat(e.id),e.data)).data}catch(e){throw console.error(e),Error("Failed to update problem")}}async function f(e){try{return(await o.post("/contest",{params:e})).data}catch(e){throw console.log(e),Error("Failed to create contest")}}async function h(e){try{return(await o.post("/submission",{...e})).data}catch(e){throw console.error(e),Error("Failed to create submission")}}o.interceptors.request.use(e=>{let r=a.Z.get("token");return r&&(e.headers["x-access-token"]=r),e})},51706:function(e,r,t){"use strict";t.d(r,{B:function(){return o}});var n=t(2265),a=t(39343),o=function(e){var r=e.as,t=e.errors,o=e.name,i=e.message,s=e.render,l=function(e,r){if(null==e)return{};var t,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r.indexOf(t=o[n])>=0||(a[t]=e[t]);return a}(e,["as","errors","name","message","render"]),c=(0,a.Gc)(),u=(0,a.U2)(t||c.formState.errors,o);if(!u)return null;var d=u.message,f=u.types,h=Object.assign({},l,{children:d||i});return n.isValidElement(r)?n.cloneElement(r,h):s?s({message:d||i,messages:f}):n.createElement(r||n.Fragment,h)}},75978:function(e,r,t){"use strict";t.d(r,{O:function(){return w}});var n=t(71228),a=t(5956),o=(0,n.tv)({base:["relative inline-flex items-center outline-none tap-highlight-transparent",...a.Dh],variants:{size:{sm:"text-small",md:"text-medium",lg:"text-large"},color:{foreground:"text-foreground",primary:"text-primary",secondary:"text-secondary",success:"text-success",warning:"text-warning",danger:"text-danger"},underline:{none:"no-underline",hover:"hover:underline",always:"underline",active:"active:underline",focus:"focus:underline"},isBlock:{true:["px-2","py-1","hover:after:opacity-100","after:content-['']","after:inset-0","after:opacity-0","after:w-full","after:h-full","after:rounded-xl","after:transition-background","after:absolute"],false:"hover:opacity-80 active:opacity-disabled transition-opacity"},isDisabled:{true:"opacity-disabled cursor-default pointer-events-none"},disableAnimation:{true:"after:transition-none transition-none"}},compoundVariants:[{isBlock:!0,color:"foreground",class:"hover:after:bg-foreground/10"},{isBlock:!0,color:"primary",class:"hover:after:bg-primary/20"},{isBlock:!0,color:"secondary",class:"hover:after:bg-secondary/20"},{isBlock:!0,color:"success",class:"hover:after:bg-success/20"},{isBlock:!0,color:"warning",class:"hover:after:bg-warning/20"},{isBlock:!0,color:"danger",class:"hover:after:bg-danger/20"},{underline:["hover","always","active","focus"],class:"underline-offset-4"}],defaultVariants:{color:"primary",size:"md",isBlock:!1,underline:"none",isDisabled:!1}}),i=t(60357),s=t(277),l=t(46671),c=t(47961),u=t(89332),d=t(33485),f=t(81866),h=t(26242),m=t(13389),p=t(2285),g=t(53640),x=t(2265),y=t(57437),v=e=>(0,y.jsxs)("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",width:"1em",...e,children:[(0,y.jsx)("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),(0,y.jsx)("path",{d:"M15 3h6v6"}),(0,y.jsx)("path",{d:"M10 14L21 3"})]}),b=(0,f.Gp)((e,r)=>{let{Component:t,children:n,showAnchorIcon:a,anchorIcon:b=(0,y.jsx)(v,{className:"flex mx-1 text-current self-center"}),getLinkProps:w}=function(e){var r,t,n,a;let y=(0,d.w)(),[v,b]=(0,f.oe)(e,o.variantKeys),{ref:w,as:k,children:j,anchorIcon:E,isExternal:N=!1,showAnchorIcon:P=!1,autoFocus:B=!1,className:F,onPress:C,onPressStart:L,onPressEnd:O,onClick:A,...D}=v,T=(0,h.gy)(w),_=null!=(t=null!=(r=null==e?void 0:e.disableAnimation)?r:null==y?void 0:y.disableAnimation)&&t,{linkProps:S}=function(e,r){let{elementType:t="a",onPress:n,onPressStart:a,onPressEnd:o,onClick:d,isDisabled:f,...h}=e,m={};"a"!==t&&(m={role:"link",tabIndex:f?void 0:0});let{focusableProps:p}=(0,c.k)(e,r),{pressProps:g,isPressed:x}=(0,u.r)({onPress:n,onPressStart:a,onPressEnd:o,isDisabled:f,ref:r}),y=(0,i.z)(h,{labelable:!0,isLink:"a"===t}),v=(0,s.d)(p,g),b=(0,l.tv)(),w=(0,l.eY)(e);return{isPressed:x,linkProps:(0,s.d)(y,w,{...v,...m,"aria-disabled":f||void 0,"aria-current":e["aria-current"],onClick:r=>{var t;null==(t=g.onClick)||t.call(g,r),d&&d(r),!b.isNative&&r.currentTarget instanceof HTMLAnchorElement&&r.currentTarget.href&&!r.isDefaultPrevented()&&(0,l.b0)(r.currentTarget,r)&&e.href&&(r.preventDefault(),b.open(r.currentTarget,r,e.href,e.routerOptions))}})}}({...D,onPress:C,onPressStart:L,onPressEnd:O,onClick:A,isDisabled:e.isDisabled,elementType:"".concat(k)},T),{isFocused:I,isFocusVisible:Z,focusProps:q}=(0,m.F)({autoFocus:B});N&&(D.rel=null!=(n=D.rel)?n:"noopener noreferrer",D.target=null!=(a=D.target)?a:"_blank");let z=(0,x.useMemo)(()=>o({...b,disableAnimation:_,className:F}),[(0,p.Xx)(b),_,F]);return{Component:k||"a",children:j,anchorIcon:E,showAnchorIcon:P,getLinkProps:(0,x.useCallback)(()=>({ref:T,className:z,"data-focus":(0,g.PB)(I),"data-disabled":(0,g.PB)(e.isDisabled),"data-focus-visible":(0,g.PB)(Z),...(0,s.d)(q,S,D)}),[z,I,Z,q,S,D])}}({ref:r,...e});return(0,y.jsx)(t,{...w(),children:(0,y.jsxs)(y.Fragment,{children:[n,a&&b]})})});b.displayName="NextUI.Link";var w=b},14950:function(e,r,t){"use strict";t.d(r,{E:function(){return d}});var n=t(56863),a=t(89188),o=t(44591),i=t(45859),s=t(61865),l=t(67611),c=t(33302);let u=(0,l.x)({...a.s,...i.E,...o.o,...s.b},c.b),d=(0,n.c)(u)}},function(e){e.O(0,[4876,8725,8829,4100,8472,3760,9890,4117,9755,9343,2971,7023,1744],function(){return e(e.s=9919)}),_N_E=e.O()}]);