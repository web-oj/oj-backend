(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5827],{9919:function(e,t,r){Promise.resolve().then(r.bind(r,57839)),Promise.resolve().then(r.bind(r,17368)),Promise.resolve().then(r.bind(r,57941))},57839:function(e,t,r){"use strict";r.d(t,{default:function(){return i}});var n=r(57437),o=r(16463),a=r(41980);function i(e){let{user:t}=(0,a.a)(),r=(0,o.useRouter)();return t&&r.push("/dashboard"),(0,n.jsx)(n.Fragment,{children:e.children})}},17368:function(e,t,r){"use strict";r.d(t,{default:function(){return m}});var n=r(57437),o=r(75978),a=r(14950),i=r(46064),s=r(39343);r(2265);var c=r(67997),l=r(16463),u=r(51706),d=r(95956),f=r(92849),h=r(41980);function p(e){let t=(0,l.useRouter)(),{register:r,handleSubmit:o,formState:{errors:a}}=(0,s.cI)(),{login:p}=(0,h.a)(),m=async e=>{try{let r=await (0,f.x4)(e);console.log("Login successful",r),p(r),d.Am.success("Login successful"),t.push("/dashboard")}catch(e){d.Am.error("Login failed"),console.error("Login failed",e)}},g={email:r("email",{required:"Email is required"}),password:r("password",{required:"Password is required"})};return(0,n.jsxs)("form",{...e,className:"flex flex-col gap-1 lg:min-w-[48ch]",onSubmit:o(m,e=>{console.log(e)}),children:[(0,n.jsx)(i.Y,{className:"mb-4",placeholder:"Email",radius:"full",size:"lg",type:"text",...g.email}),(0,n.jsx)(i.Y,{className:"mb-4",placeholder:"Password",radius:"full",size:"lg",type:"password",...g.password}),(0,n.jsx)(u.B,{errors:a,name:"email",render:e=>{let{message:t}=e;return(0,n.jsx)("p",{className:"text-red-500",children:t})}}),(0,n.jsx)(u.B,{errors:a,name:"password",render:e=>{let{message:t}=e;return(0,n.jsx)("p",{className:"text-red-500",children:t})}}),(0,n.jsx)(c.A,{fullWidth:!0,color:"primary",radius:"full",size:"lg",type:"submit",children:"Login"})]})}function m(){return(0,n.jsxs)(a.E.section,{animate:{opacity:1,y:0},className:"flex flex-col gap-6 max-w-screen-sm lg:my-16",initial:{opacity:0,y:-20},transition:{duration:.5},children:[(0,n.jsxs)(a.E.div,{animate:{opacity:1,y:0},initial:{opacity:0,y:-20},transition:{duration:.5,delay:.2},children:[(0,n.jsx)("h2",{className:"font-bold text-2xl lg:text-4xl text-foreground",children:"Login your account"}),(0,n.jsx)("p",{className:"text-base text-foreground-500",children:"Explore and practice problems, contest and so on"})]}),(0,n.jsx)(a.E.div,{animate:{opacity:1,y:0},initial:{opacity:0,y:-20},transition:{duration:.5,delay:.4},children:(0,n.jsx)(p,{})}),(0,n.jsxs)(a.E.p,{animate:{opacity:1,y:0},className:"text-base text-foreground-500 text-center w-full",initial:{opacity:0,y:-20},transition:{duration:.5,delay:.6},children:["Don't have an account?"," ",(0,n.jsx)(o.O,{className:"text-primary",href:"./register",children:"Sign up"})]})]})}},41980:function(e,t,r){"use strict";r.d(t,{H:function(){return c},a:function(){return l}});var n=r(57437),o=r(2265),a=r(44785),i=r(92849);let s=(0,o.createContext)(void 0),c=e=>{let{children:t}=e,[r,c]=(0,o.useState)(null),[l,u]=(0,o.useState)(!1),[d,f]=(0,o.useState)(null),h=o.useCallback(async()=>{try{if(!d)return;let e=await (0,i.TO)();c(e),console.log("Fetched user",e)}catch(e){console.error("Failed to fetch user",e)}},[d]);return(0,o.useEffect)(()=>{let e=a.Z.get("token");e&&f(e),a.Z.get("cookieConsent")||u(!0)},[]),(0,o.useEffect)(()=>{null===r&&h()},[r,h,d]),(0,n.jsx)(s.Provider,{value:{user:r,login:e=>{if(!e)throw Error("Token is required");a.Z.set("token",e),f(e)},logout:()=>{a.Z.remove("token"),c(null)},showCookieConsent:l,allowCookies:()=>{a.Z.set("cookieConsent","true"),u(!1)},declineCookies:()=>{a.Z.set("cookieConsent","false"),u(!1)}},children:t})},l=()=>{let e=(0,o.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},57941:function(e,t,r){"use strict";r.r(t),r.d(t,{Field:function(){return i}});var n=r(57437),o=r(97481),a=r(96164);function i(e){let{label:t,value:r,direction:i="row",fullWidth:s=!1,fullHeight:c=!1,showLabel:l=!0,icon:u,classNames:d}=e;return(0,n.jsxs)("div",{className:(0,a.m6)("flex gap-1 justify-center items-center w-fit h-fit","column"===i&&"flex-col",s&&"w-full",c&&"h-full",null==d?void 0:d.wrapper),children:[u&&(0,n.jsx)(o.e,{content:t,placement:"top",children:u}),l&&(0,n.jsx)("div",{className:(0,a.m6)("text-sm font-medium text-foreground",null==d?void 0:d.label),children:t}),(0,n.jsx)("div",{className:(0,a.m6)("text-sm",null==d?void 0:d.value),children:r})]})}},92849:function(e,t,r){"use strict";r.d(t,{SC:function(){return g},bg:function(){return p},Rf:function(){return d},fP:function(){return w},kT:function(){return h},Zp:function(){return u},zN:function(){return x},TO:function(){return c},x4:function(){return s},K9:function(){return b},T0:function(){return y},y1:function(){return i},cg:function(){return v},ct:function(){return m},uJ:function(){return f}});var n=r(38472),o=r(44785);r(20357).env.NEXT_PUBLIC_API_VERSION;let a=n.Z.create({baseURL:"http://54.179.65.18:3000"});async function i(e){try{return(await a.post("/user",e)).data.data}catch(e){throw console.error("Failed to sign up",e),Error("Failed to sign up")}}async function s(e){try{return(await a.post("/user/login",e)).data.data.token}catch(e){throw Error("Failed to sign in")}}async function c(){try{let e=await a.get("/user/id");return await l({id:e.data.data.id})}catch(e){throw console.error(e),Error("Failed to fetch user by token")}}async function l(e){try{return(await a.get("/user/".concat(e.id))).data.data}catch(e){throw console.error(e),Error("Failed to fetch user by ID")}}async function u(){try{return(await a.get("/user/leaderboard")).data.data}catch(e){throw Error("Failed to fetch leaderboard")}}async function d(e){try{return(await a.post("/problem",e)).data}catch(e){throw console.log(e),Error("Failed to create problem")}}async function f(e){try{return(await a.patch("/problem/id/".concat(e.id),e.data)).data}catch(e){throw Error("Failed to update problem")}}async function h(e,t){try{return(await a.get("/problem")).data.data}catch(e){throw Error("Failed to fetch all problems")}}async function p(e){try{return(await a.post("/contest",e)).data}catch(e){throw console.log(e),Error("Failed to create contest")}}async function m(e){try{return(await a.patch("/contest/".concat(e.id),e.data)).data}catch(e){throw Error("Failed to update contest")}}async function g(e){try{return(await a.post("/contest/".concat(e.contestId,"/problem"),{problemId:e.problemId,score:e.score})).data}catch(e){throw console.error(e),Error("Failed to add problem to contest")}}async function y(e){try{return(await a.delete("/contest/".concat(e.id,"/problem"),{data:{problemId:e.problemId}})).data}catch(e){throw console.error(e),Error("Failed to remove problem from contest")}}async function x(e){try{return(await a.get("/contest/".concat(e.id,"/problem"))).data.data}catch(e){throw Error("Failed to get problems in contest")}}async function b(e){try{return(await a.post("/contest/".concat(e.id,"/register"),{id:e.userId})).data.data}catch(e){throw Error("Failed to register for contest")}}async function v(e){try{return(await a.delete("/contest/".concat(e.id,"/register"),{data:{id:e.userId}})).data}catch(e){throw Error("Failed to unregister for contest")}}async function w(e){btoa(e.code).includes(e.code)||(e.code=btoa(e.code));try{return(await a.post("/submission",{...e})).data}catch(e){throw console.error(e),Error("Failed to create submission")}}a.interceptors.request.use(e=>{let t=o.Z.get("token");return t&&(e.headers["x-access-token"]=t),e})},51706:function(e,t,r){"use strict";r.d(t,{B:function(){return a}});var n=r(2265),o=r(39343),a=function(e){var t=e.as,r=e.errors,a=e.name,i=e.message,s=e.render,c=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||(o[r]=e[r]);return o}(e,["as","errors","name","message","render"]),l=(0,o.Gc)(),u=(0,o.U2)(r||l.formState.errors,a);if(!u)return null;var d=u.message,f=u.types,h=Object.assign({},c,{children:d||i});return n.isValidElement(t)?n.cloneElement(t,h):s?s({message:d||i,messages:f}):n.createElement(t||n.Fragment,h)}},75978:function(e,t,r){"use strict";r.d(t,{O:function(){return w}});var n=r(71228),o=r(5956),a=(0,n.tv)({base:["relative inline-flex items-center outline-none tap-highlight-transparent",...o.Dh],variants:{size:{sm:"text-small",md:"text-medium",lg:"text-large"},color:{foreground:"text-foreground",primary:"text-primary",secondary:"text-secondary",success:"text-success",warning:"text-warning",danger:"text-danger"},underline:{none:"no-underline",hover:"hover:underline",always:"underline",active:"active:underline",focus:"focus:underline"},isBlock:{true:["px-2","py-1","hover:after:opacity-100","after:content-['']","after:inset-0","after:opacity-0","after:w-full","after:h-full","after:rounded-xl","after:transition-background","after:absolute"],false:"hover:opacity-80 active:opacity-disabled transition-opacity"},isDisabled:{true:"opacity-disabled cursor-default pointer-events-none"},disableAnimation:{true:"after:transition-none transition-none"}},compoundVariants:[{isBlock:!0,color:"foreground",class:"hover:after:bg-foreground/10"},{isBlock:!0,color:"primary",class:"hover:after:bg-primary/20"},{isBlock:!0,color:"secondary",class:"hover:after:bg-secondary/20"},{isBlock:!0,color:"success",class:"hover:after:bg-success/20"},{isBlock:!0,color:"warning",class:"hover:after:bg-warning/20"},{isBlock:!0,color:"danger",class:"hover:after:bg-danger/20"},{underline:["hover","always","active","focus"],class:"underline-offset-4"}],defaultVariants:{color:"primary",size:"md",isBlock:!1,underline:"none",isDisabled:!1}}),i=r(60357),s=r(277),c=r(46671),l=r(47961),u=r(89332),d=r(33485),f=r(81866),h=r(26242),p=r(13389),m=r(2285),g=r(53640),y=r(2265),x=r(57437),b=e=>(0,x.jsxs)("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",width:"1em",...e,children:[(0,x.jsx)("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),(0,x.jsx)("path",{d:"M15 3h6v6"}),(0,x.jsx)("path",{d:"M10 14L21 3"})]}),v=(0,f.Gp)((e,t)=>{let{Component:r,children:n,showAnchorIcon:o,anchorIcon:v=(0,x.jsx)(b,{className:"flex mx-1 text-current self-center"}),getLinkProps:w}=function(e){var t,r,n,o;let x=(0,d.w)(),[b,v]=(0,f.oe)(e,a.variantKeys),{ref:w,as:k,children:E,anchorIcon:j,isExternal:C=!1,showAnchorIcon:F=!1,autoFocus:N=!1,className:B,onPress:I,onPressStart:P,onPressEnd:L,onClick:D,...O}=b,A=(0,h.gy)(w),T=null!=(r=null!=(t=null==e?void 0:e.disableAnimation)?t:null==x?void 0:x.disableAnimation)&&r,{linkProps:R}=function(e,t){let{elementType:r="a",onPress:n,onPressStart:o,onPressEnd:a,onClick:d,isDisabled:f,...h}=e,p={};"a"!==r&&(p={role:"link",tabIndex:f?void 0:0});let{focusableProps:m}=(0,l.k)(e,t),{pressProps:g,isPressed:y}=(0,u.r)({onPress:n,onPressStart:o,onPressEnd:a,isDisabled:f,ref:t}),x=(0,i.z)(h,{labelable:!0,isLink:"a"===r}),b=(0,s.d)(m,g),v=(0,c.tv)(),w=(0,c.eY)(e);return{isPressed:y,linkProps:(0,s.d)(x,w,{...b,...p,"aria-disabled":f||void 0,"aria-current":e["aria-current"],onClick:t=>{var r;null==(r=g.onClick)||r.call(g,t),d&&d(t),!v.isNative&&t.currentTarget instanceof HTMLAnchorElement&&t.currentTarget.href&&!t.isDefaultPrevented()&&(0,c.b0)(t.currentTarget,t)&&e.href&&(t.preventDefault(),v.open(t.currentTarget,t,e.href,e.routerOptions))}})}}({...O,onPress:I,onPressStart:P,onPressEnd:L,onClick:D,isDisabled:e.isDisabled,elementType:"".concat(k)},A),{isFocused:U,isFocusVisible:S,focusProps:Z}=(0,p.F)({autoFocus:N});C&&(O.rel=null!=(n=O.rel)?n:"noopener noreferrer",O.target=null!=(o=O.target)?o:"_blank");let _=(0,y.useMemo)(()=>a({...v,disableAnimation:T,className:B}),[(0,m.Xx)(v),T,B]);return{Component:k||"a",children:E,anchorIcon:j,showAnchorIcon:F,getLinkProps:(0,y.useCallback)(()=>({ref:A,className:_,"data-focus":(0,g.PB)(U),"data-disabled":(0,g.PB)(e.isDisabled),"data-focus-visible":(0,g.PB)(S),...(0,s.d)(Z,R,O)}),[_,U,S,Z,R,O])}}({ref:t,...e});return(0,x.jsx)(r,{...w(),children:(0,x.jsxs)(x.Fragment,{children:[n,o&&v]})})});v.displayName="NextUI.Link";var w=v},14950:function(e,t,r){"use strict";r.d(t,{E:function(){return d}});var n=r(56863),o=r(89188),a=r(44591),i=r(45859),s=r(61865),c=r(67611),l=r(33302);let u=(0,c.x)({...o.s,...i.E,...a.o,...s.b},l.b),d=(0,n.c)(u)},44785:function(e,t,r){"use strict";/*! js-cookie v3.0.5 | MIT */function n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}r.d(t,{Z:function(){return o}});var o=function e(t,r){function o(e,o,a){if("undefined"!=typeof document){"number"==typeof(a=n({},r,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var s in a)a[s]&&(i+="; "+s,!0!==a[s]&&(i+="="+a[s].split(";")[0]));return document.cookie=e+"="+t.write(o,e)+i}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},o=0;o<r.length;o++){var a=r[o].split("="),i=a.slice(1).join("=");try{var s=decodeURIComponent(a[0]);if(n[s]=t.read(i,s),e===s)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){o(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[4876,8725,8829,7778,7997,3760,5956,9890,9755,1886,2971,7023,1744],function(){return e(e.s=9919)}),_N_E=e.O()}]);