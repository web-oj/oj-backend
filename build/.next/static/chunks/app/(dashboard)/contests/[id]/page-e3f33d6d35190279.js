(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4738],{40067:function(e,t,r){Promise.resolve().then(r.bind(r,99230)),Promise.resolve().then(r.bind(r,26843)),Promise.resolve().then(r.bind(r,95406)),Promise.resolve().then(r.bind(r,57941)),Promise.resolve().then(r.bind(r,67014))},99230:function(e,t,r){"use strict";r.d(t,{default:function(){return N}});var n=r(57437),o=r(51716),s=r(12310),i=r(16463),l=r(2265),a=r(22629);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,a.Z)("Calendar03Icon",[["path",{d:"M18 2V4M6 2V4",stroke:"currentColor",key:"k0"}],["path",{d:"M11.9955 13H12.0045M11.9955 17H12.0045M15.991 13H16M8 13H8.00897M8 17H8.00897",stroke:"currentColor",key:"k1"}],["path",{d:"M3.5 8H20.5",stroke:"currentColor",key:"k2"}],["path",{d:"M2.5 12.2432C2.5 7.88594 2.5 5.70728 3.75212 4.35364C5.00424 3 7.01949 3 11.05 3H12.95C16.9805 3 18.9958 3 20.2479 4.35364C21.5 5.70728 21.5 7.88594 21.5 12.2432V12.7568C21.5 17.1141 21.5 19.2927 20.2479 20.6464C18.9958 22 16.9805 22 12.95 22H11.05C7.01949 22 5.00424 22 3.75212 20.6464C2.5 19.2927 2.5 17.1141 2.5 12.7568V12.2432Z",stroke:"currentColor",key:"k3"}],["path",{d:"M3 8H21",stroke:"currentColor",key:"k4"}]]);var u=r(95406),d=r(75974),f=r(16434),h=r(41980),m=r(92849),C=r(67997);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,a.Z)("Login01Icon",[["path",{d:"M14 3.09502C13.543 3.03241 13.0755 3 12.6 3C7.29807 3 3 7.02944 3 12C3 16.9706 7.29807 21 12.6 21C13.0755 21 13.543 20.9676 14 20.905",stroke:"currentColor",key:"k0"}],["path",{d:"M13.5 14.5C12.9943 14.0085 11 12.7002 11 12M13.5 9.5C12.9943 9.99153 11 11.2998 11 12M11 12L21 12",stroke:"currentColor",key:"k1"}]]),x=(0,a.Z)("Logout01Icon",[["path",{d:"M14 3.09502C13.543 3.03241 13.0755 3 12.6 3C7.29807 3 3 7.02944 3 12C3 16.9706 7.29807 21 12.6 21C13.0755 21 13.543 20.9676 14 20.905",stroke:"currentColor",key:"k0"}],["path",{d:"M21 12L11 12M21 12C21 11.2998 19.0057 9.99153 18.5 9.5M21 12C21 12.7002 19.0057 14.0085 18.5 14.5",stroke:"currentColor",key:"k1"}]]);var g=r(95956);function k(e){let{user:t}=(0,h.a)(),r=(0,u.Y)(),[o,s]=l.useState(!1);return l.useEffect(()=>{t&&r.data.participations&&s(r.data.participations.some(e=>e.userId===t.id))},[t,r.data.participations]),(0,n.jsx)(f.EY,{direction:"row",className:"absolute top-4 right-4",classnames:{container:"items-center justify-end"},children:o?(0,n.jsx)(()=>{let e=async()=>{try{if(!t){g.Am.error("You must be logged in to unregister for a contest");return}await (0,m.cg)({id:r.data.id,userId:null==t?void 0:t.id}),g.Am.success("Successfully unregistered for contest")}catch(e){g.Am.error("Failed to unregister for contest")}};return(0,n.jsx)(C.A,{color:"danger",radius:"full",onClick:e,startContent:(0,n.jsx)(x,{}),children:"Unregister"})},{}):(0,n.jsx)(()=>{let e=async()=>{try{if(!t){g.Am.error("You must be logged in to register for a contest");return}await (0,m.K9)({id:r.data.id,userId:null==t?void 0:t.id}),g.Am.success("Successfully registered for contest")}catch(e){g.Am.error("Failed to register for contest")}};return(0,n.jsx)(C.A,{color:"primary",radius:"full",onClick:e,startContent:(0,n.jsx)(p,{}),children:"Register"})},{})})}var j=r(91063),v=r(89512),b=r(52112),w=r(36436);function y(e){let{data:t}=(0,u.Y)(),r=(0,v.T)({load:async()=>({items:await (0,m.zN)({id:t.id})}),getKey:e=>e.id}),o=e=>{let{problem:r}=e,o=(0,i.useRouter)();return(0,n.jsxs)(f.EY,{fullwidth:!0,direction:"row",className:"bg-foreground-50 p-4 rounded-large hover:scale-[101%] transition-transform duration-200 cursor-pointer ease-in-out",classnames:{container:"justify-between items-center"},onClick:()=>{o.push("../problems/".concat(r.id,"?contestId=").concat(t.id))},children:[(0,n.jsxs)(f.EY,{direction:"column",children:[(0,n.jsx)("p",{className:"text-foreground font-medium text-lg",children:r.title}),(0,n.jsxs)(f.EY,{direction:"row",children:[(0,n.jsx)(f.gN,{icon:(0,n.jsx)(b.Z,{size:16}),label:"Created At",value:new Date(r.createdAt).toLocaleDateString(),showLabel:!1}),(0,n.jsx)(f.gN,{icon:(0,n.jsx)(w.Z,{size:16}),label:"Difficulty",value:r.difficulty,showLabel:!1})]})]}),(0,n.jsxs)(j.z,{radius:"full",children:["#",r.id]})]},r.id)};return(l.useEffect(()=>{r.reload(),console.log(r.items)},[t]),r.isLoading)?(0,n.jsx)(f.EY,{fullheight:!0,fullwidth:!0,direction:"column",classnames:{container:"overflow-y-auto"},children:Array(10).fill(0).map((e,t)=>(0,n.jsx)("div",{className:"bg-foreground-300 p-4 rounded-large w-full h-32"},t))}):(0,n.jsx)(f.EY,{fullheight:!0,fullwidth:!0,direction:"column",classnames:{container:"overflow-y-auto"},children:r.items.map(e=>(0,n.jsx)(o,{problem:e},e.id))})}let M=[{label:"Details",value:"details",component:(0,n.jsx)(function(e){let{data:t}=(0,u.Y)();return(0,n.jsxs)(f.EY,{fullheight:!0,fullwidth:!0,classnames:{wrapper:"bg-foreground-50 p-4 overflow-y-auto relative"},direction:"column",space:"sm",...e,children:[(0,n.jsx)(k,{}),(0,n.jsx)("div",{className:"flex items-center flex-row gap-1",children:(0,n.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:null==t?void 0:t.title})}),(0,n.jsxs)(f.EY,{direction:"row",space:"sm",children:[(0,n.jsx)(f.gN,{classNames:{value:"text-foreground-500"},direction:"row",icon:(0,n.jsx)(c,{className:"text-foreground-500",size:16}),label:"Start time",showLabel:!1,value:new Date(Number(t.startTime)).toLocaleString()}),(0,n.jsx)(f.gN,{classNames:{value:"text-foreground-500"},direction:"row",icon:(0,n.jsx)(c,{className:"text-foreground-500",size:16}),label:"End time",showLabel:!1,value:new Date(Number(t.endTime)).toLocaleString()})]}),(0,n.jsx)(d.o,{data:t.description})]})},{})},{label:"Problems",value:"problems",component:(0,n.jsx)(function(){return(0,n.jsx)(y,{})},{})},{label:"Ranking",value:"ranking",component:(0,n.jsx)(function(){return(0,n.jsx)(n.Fragment,{})},{})},{label:"Submissions",value:"submissions",component:(0,n.jsx)("div",{})},{label:"Moss",value:"moss",component:(0,n.jsx)("div",{})}];function N(){let e=(0,i.useSearchParams)(),t=(0,i.useRouter)(),r=(0,i.usePathname)(),a=e.get("tab")||"details",c=l.useCallback((t,r)=>{let n=new URLSearchParams(e.toString());return n.set(t,r),n.toString()},[e]);return(0,n.jsx)(f.EY,{fullheight:!0,fullwidth:!0,direction:"column",children:(0,n.jsx)(o.n,{className:"h-fit",classNames:{wrapper:"h-full",panel:"h-full overflow-hidden p-0"},color:"primary",radius:"full",selectedKey:a,variant:"light",onSelectionChange:e=>{t.push("".concat(r,"?").concat(c("tab",e.toString())))},children:M.map(e=>(0,n.jsx)(s.r,{title:e.label,children:e.component},e.value))})})}},26843:function(e,t,r){"use strict";r.d(t,{default:function(){return d}});var n=r(57437),o=r(16463),s=r(67997),i=r(83903),l=r(37970),a=r(95406),c=r(41980),u=r(13996);function d(e){let t=(0,o.useRouter)(),r=(0,o.usePathname)(),{user:d}=(0,c.a)(),f=(0,a.Y)(),h=r.split("/").pop();return!f.data.organizer||f.data.organizer.id!==(null==d?void 0:d.id)||d?null:(0,n.jsxs)(u.Z,{...e,children:[(0,n.jsx)(s.A,{isIconOnly:!0,color:"secondary",radius:"full",onClick:()=>t.push("/contests/".concat(h,"/edit")),children:(0,n.jsx)(i.Z,{})}),(0,n.jsx)(s.A,{isIconOnly:!0,className:"dark",radius:"full",children:(0,n.jsx)(l.Z,{})})]})}},95406:function(e,t,r){"use strict";r.d(t,{ContestProvider:function(){return i},Y:function(){return l}});var n=r(57437),o=r(2265);let s=(0,o.createContext)({}),i=e=>{let{children:t,contest:r}=e,[i,l]=(0,o.useState)(r);return(0,n.jsx)(s.Provider,{value:{data:i,setData:l},children:t})},l=()=>{let e=(0,o.useContext)(s);if(void 0===e)throw Error("useContest must be used within a ContestProvider");return e}},75974:function(e,t,r){"use strict";r.d(t,{o:function(){return n.o}});var n=r(18852);r(81770)},13996:function(e,t,r){"use strict";r.d(t,{Z:function(){return l},h:function(){return i}});var n=r(57437),o=r(67997),s=r(16434);function i(e){return(0,n.jsx)(o.A,{...e,isIconOnly:!0,className:"dark",radius:"full",children:e.children})}function l(e){return(0,n.jsx)(s.EY,{direction:"row",space:"sm",...e,classnames:{wrapper:"bg-foreground-900 p-1 !rounded-full fixed bottom-4 left-1/2 transform -translate-x-1/2 border-1 border-foreground-200 shadow-lg"},children:e.children})}},37970:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(22629).Z)("Add01Icon",[["path",{d:"M12 4V20",stroke:"currentColor",key:"k0"}],["path",{d:"M4 12H20",stroke:"currentColor",key:"k1"}]])},83903:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(22629).Z)("Edit01Icon",[["path",{d:"M16.9459 3.17305C17.5332 2.58578 17.8268 2.29215 18.1521 2.15173C18.6208 1.94942 19.1521 1.94942 19.6208 2.15173C19.946 2.29215 20.2397 2.58578 20.8269 3.17305C21.4142 3.76032 21.7079 4.05395 21.8483 4.37925C22.0506 4.8479 22.0506 5.37924 21.8483 5.84789C21.7079 6.17319 21.4142 6.46682 20.8269 7.05409L15.8054 12.0757C14.5682 13.3129 13.9496 13.9315 13.1748 14.298C12.4 14.6645 11.5294 14.7504 9.78823 14.9222L9 15L9.07778 14.2118C9.24958 12.4706 9.33549 11.6 9.70201 10.8252C10.0685 10.0504 10.6871 9.43183 11.9243 8.19464L16.9459 3.17305Z",stroke:"currentColor",key:"k0"}],["path",{d:"M6 15H3.75C2.7835 15 2 15.7835 2 16.75C2 17.7165 2.7835 18.5 3.75 18.5H13.25C14.2165 18.5 15 19.2835 15 20.25C15 21.2165 14.2165 22 13.25 22H11",stroke:"currentColor",key:"k1"}]])},36436:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(22629).Z)("FireIcon",[["path",{d:"M13.8561 22C26.0783 19 19.2338 7 10.9227 2C9.9453 5.5 8.47838 6.5 5.54497 10C1.66121 14.6339 3.5895 20 8.96719 22C8.1524 21 6.04958 18.9008 7.5 16C8 15 9 14 8.5 12C9.47778 12.5 11.5 13 12 15.5C12.8148 14.5 13.6604 12.4 12.8783 10C19 14.5 16.5 19 13.8561 22Z",stroke:"currentColor",key:"k0"}]])},39166:function(e,t,r){"use strict";r.d(t,{W:function(){return s}});var n=r(2265),o=r(46896);function s(e,t=[]){let r=(0,n.useRef)(e);return(0,o.G)(()=>{r.current=e}),(0,n.useCallback)((...e)=>{var t;return null==(t=r.current)?void 0:t.call(r,...e)},t)}}},function(e){e.O(0,[7322,3954,4876,8725,8829,7778,7997,3760,8530,5956,3057,7270,9890,7496,197,9755,1756,4276,3155,3102,4295,7215,2971,7023,1744],function(){return e(e.s=40067)}),_N_E=e.O()}]);