(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6330],{15707:function(e,r,t){Promise.resolve().then(t.bind(t,46059)),Promise.resolve().then(t.bind(t,94628)),Promise.resolve().then(t.bind(t,1479)),Promise.resolve().then(t.bind(t,56868)),Promise.resolve().then(t.bind(t,57941))},95406:function(e,r,t){"use strict";t.d(r,{ContestProvider:function(){return i},Y:function(){return o}});var s=t(57437),n=t(2265);let l=(0,n.createContext)({}),i=e=>{let{children:r,contest:t}=e,[i,o]=(0,n.useState)(t);return(0,s.jsx)(l.Provider,{value:{data:i,setData:o},children:r})},o=()=>{let e=(0,n.useContext)(l);if(void 0===e)throw Error("useContest must be used within a ContestProvider");return e}},94628:function(e,r,t){"use strict";t.d(r,{default:function(){return i}});var s=t(57437),n=t(67997),l=t(16434);function i(){return(0,s.jsx)(l.o8,{rightContents:(0,s.jsx)(n.A,{color:"primary",form:"update-contest-form",radius:"full",type:"submit",children:"Update"})})}},46059:function(e,r,t){"use strict";t.d(r,{FastCheckTable:function(){return i}});var s=t(57437),n=t(53356),l=t(16434);function i(e){let{data:r}=(0,n.N)(),t=[{label:"Title",value:r?r.title:"N/A"},{label:"Start Time",value:r?r.startTime:"N/A"},{label:"End Time",value:r?r.endTime:"N/A"},{label:"Scoring Rule",value:r?r.scoringRule:"N/A"},{label:"Plagiarism Check",value:r?r.isPlagiarismCheckEnabled:"N/A"},{label:"Published",value:r?r.isPublished:"N/A"},{label:"Description",value:r?r.description:"N/A"}];return(0,s.jsx)(l.EY,{fullwidth:!0,classnames:{wrapper:"w-full bg-foreground-50 rounded-large p-4"},direction:"column",space:"sm",children:t.map((e,r)=>(0,s.jsx)(l.gN,{fullWidth:!0,classNames:{wrapper:"justify-between"},direction:"row",label:e.label,value:e.value},r))})}},1479:function(e,r,t){"use strict";t.d(r,{UpdateContestForm:function(){return A}});var s=t(57437),n=t(46064),l=t(37595),i=t(81822),o=t(39343),a=t(2265),c=t(51706),d=t(95956),u=t(53356),m=t(37856),h=t(92849),f=t(41980),p=t(81770),b=t(95406),x=t(76208),g=t(75978),v=t(67997),j=t(55786),k=t(29010),w=t(17592),y=t(66799),T=t(12039),C=t(16434);/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */let P=(0,t(22629).Z)("Delete01Icon",[["path",{d:"M19.5 5.5L18.8803 15.5251C18.7219 18.0864 18.6428 19.3671 18.0008 20.2879C17.6833 20.7431 17.2747 21.1273 16.8007 21.416C15.8421 22 14.559 22 11.9927 22C9.42312 22 8.1383 22 7.17905 21.4149C6.7048 21.1257 6.296 20.7408 5.97868 20.2848C5.33688 19.3626 5.25945 18.0801 5.10461 15.5152L4.5 5.5",stroke:"currentColor",key:"k0"}],["path",{d:"M3 5.5H21M16.0557 5.5L15.3731 4.09173C14.9196 3.15626 14.6928 2.68852 14.3017 2.39681C14.215 2.3321 14.1231 2.27454 14.027 2.2247C13.5939 2 13.0741 2 12.0345 2C10.9688 2 10.436 2 9.99568 2.23412C9.8981 2.28601 9.80498 2.3459 9.71729 2.41317C9.32164 2.7167 9.10063 3.20155 8.65861 4.17126L8.05292 5.5",stroke:"currentColor",key:"k1"}]]);var N=t(37970);function I(e){let{data:r}=(0,b.Y)(),{problemsInContest:t,setProblemsInContest:l}=e,{isOpen:i,onOpenChange:o,onClose:c,onOpen:d}=(0,x.q)(),u=function(){let{score:e=0,problemId:r=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l([...t,{score:e,problemId:r}])},m=e=>{l(t.filter(r=>r.problemId!==e))},f=(e,r)=>{l(t.map(t=>t.problemId===e?{...t,score:r}:t))},p=e=>{let{score:r,problemId:t}=e;return(0,s.jsxs)(C.EY,{direction:"row",className:"bg-foreground-50 p-2 rounded-lg",classnames:{container:"items-center justify-between"},children:[(0,s.jsxs)(C.EY,{direction:"row",space:"sm",children:[(0,s.jsxs)(g.O,{href:"/problems/".concat(t),className:"text-foreground-500",children:["#",t]}),(0,s.jsx)(n.Y,{type:"number",label:"Score",labelPlacement:"outside-left",value:r.toString(),onChange:e=>f(t,parseInt(e.target.value))})]}),(0,s.jsx)(v.A,{onClick:()=>m(t),size:"sm",color:"danger",isIconOnly:!0,radius:"full",children:(0,s.jsx)(P,{size:16})})]})};return a.useEffect(()=>{r&&l(r.problemsInContest.map(e=>({score:e.score,problemId:e.problemId})))},[r]),(0,s.jsxs)(C.EY,{direction:"column",fullwidth:!0,label:"Add Problems",children:[(0,s.jsx)(C.EY,{direction:"row",fullwidth:!0,space:"sm",classnames:{container:"flex-wrap"},children:t.map(e=>(0,s.jsx)(p,{...e},e.problemId))}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.A,{color:"secondary",radius:"full",onClick:d,children:"Add Problems"}),(0,s.jsx)(j.R,{isOpen:i,onOpenChange:o,classNames:{base:"bg-foreground-100"},children:(0,s.jsxs)(k.A,{children:[(0,s.jsx)(w.k,{children:"Add Problems"}),(0,s.jsx)(y.I,{children:(0,s.jsx)(()=>{let[e,r]=a.useState([]);a.useEffect(()=>{(0,h.kT)().then(e=>{let s=new Set(t.map(e=>e.problemId));r(e.filter(e=>!s.has(e.id)))})},[]);let n=e=>(0,s.jsxs)(C.EY,{direction:"row",fullwidth:!0,className:"bg-foreground-50 p-2 rounded-lg shadow-sm hover:scale-[1.01] transition-transform ease-in-out cursor-pointer",classnames:{container:"items-center justify-between"},space:"sm",children:[(0,s.jsxs)(C.EY,{direction:"column",space:"sm",children:[(0,s.jsx)(g.O,{href:"/problems/".concat(e.id),className:"text-foreground-500",children:e.id}),(0,s.jsx)("p",{children:e.title})]}),(0,s.jsx)(v.A,{size:"sm",color:"secondary",isIconOnly:!0,radius:"full",onClick:()=>u({problemId:e.id}),children:(0,s.jsx)(N.Z,{size:16})})]},e.id);return(0,s.jsx)(C.EY,{fullwidth:!0,direction:"column",space:"sm",children:e.map(e=>(0,s.jsx)(n,{...e},e.id))})},{})}),(0,s.jsx)(T.R,{children:(0,s.jsx)(v.A,{color:"primary",radius:"full",onClick:c,children:"Close"})})]})})]})]})}function A(e){let{data:r}=(0,b.Y)(),{register:t,handleSubmit:x,formState:{errors:g,isValid:v},watch:j}=(0,o.cI)({mode:"onBlur",defaultValues:{title:r.title,startTime:r.startTime,endTime:r.endTime,ruleText:r.ruleText,scoringRule:r.scoringRule,description:r.description,isPublished:r.isPublished}}),{data:k,setData:w}=(0,u.N)(),{user:y}=(0,f.a)(),[T,C]=a.useState(r.description),[P,N]=a.useState([]),A=async e=>{if(!y){d.Am.error("You must be logged in to create a contest");return}try{await (0,h.ct)({id:r.id,data:{isPublished:e.isPublished||r.isPublished,scoringRule:e.scoringRule||r.scoringRule,endTime:new Date(e.endTime).getTime()||r.endTime,startTime:new Date(e.startTime).getTime()||r.startTime,ruleText:e.scoringRule||r.scoringRule,description:T||r.description,title:e.title}});let t=r.problemsInContest||[];console.log(P,t);let s=P.filter(e=>!t.some(r=>r.problemId===e.problemId)).map(e=>({problemId:e.problemId,score:e.score})),n=t.filter(e=>!P.some(r=>r.problemId===e.problemId)).map(e=>({problemId:e.id}));for(let e of s)try{await (0,h.SC)({contestId:r.id,problemId:e.problemId,score:e.score})}catch(e){d.Am.error("Failed to add problem to contest")}for(let e of n)try{await (0,h.T0)({id:r.id,problemId:e.problemId})}catch(e){d.Am.error("Failed to remove problem from contest")}d.Am.success("Contest updated successfully")}catch(e){d.Am.error("Failed to update contest")}},E={title:t("title",{maxLength:{value:200,message:"Title must be less than 200 characters"}}),startTime:t("startTime"),endTime:t("endTime"),scoringRule:t("scoringRule"),ruleText:t("ruleText"),isPublished:t("isPublished"),description:t("description")};return j(),(0,s.jsxs)("form",{...e,className:"flex flex-col gap-4 lg:min-w-[48ch] overflow-auto",id:"update-contest-form",onSubmit:x(A,(e,r)=>{console.log(e)}),children:[(0,s.jsx)(n.Y,{isRequired:!0,required:!0,description:"Max length 200",label:"Title",labelPlacement:"outside",placeholder:"Title",radius:"full",type:"text",...E.title}),(0,s.jsx)(c.B,{errors:g,name:"title",render:e=>{let{message:r}=e;return(0,s.jsx)("p",{className:"text-red-500 text-sm",children:r})}}),(0,s.jsx)(p.Z,{label:"Description",markdown:T,placeholder:"Type the description here",register:E.description,setMarkdown:C}),(0,s.jsx)(c.B,{errors:g,name:"description",render:e=>{let{message:r}=e;return(0,s.jsx)("p",{className:"text-red-500 text-sm",children:r})}}),(0,s.jsxs)(m.E,{fullwidth:!0,direction:"column",children:[(0,s.jsx)(n.Y,{isRequired:!0,label:"Start Time",labelPlacement:"outside",placeholder:"Start Time",radius:"full",type:"datetime-local",value:new Date(Number(r.startTime)).toISOString().slice(0,16),...E.startTime}),(0,s.jsx)(n.Y,{isRequired:!0,label:"End Time",labelPlacement:"outside",placeholder:"End Time",radius:"full",type:"datetime-local",value:new Date(Number(r.endTime)).toISOString().slice(0,16),...E.endTime})]}),(0,s.jsx)(c.B,{errors:g,name:"startTime",render:e=>{let{message:r}=e;return(0,s.jsx)("p",{className:"text-red-500 text-sm",children:r})}}),(0,s.jsx)(c.B,{errors:g,name:"endTime",render:e=>{let{message:r}=e;return(0,s.jsx)("p",{className:"text-red-500 text-sm",children:r})}}),(0,s.jsx)(l.Y,{isRequired:!0,required:!0,classNames:{base:"max-h-[200ch]"},label:"Scoring Rule",labelPlacement:"outside",placeholder:"Type the scoring rule here",radius:"full",...E.scoringRule}),(0,s.jsx)(c.B,{errors:g,name:"scoringRule",render:e=>{let{message:r}=e;return(0,s.jsx)("p",{className:"text-red-500 text-sm",children:r})}}),(0,s.jsx)(l.Y,{isRequired:!0,required:!0,classNames:{base:"max-h-[200ch]"},label:"Rule Text",labelPlacement:"outside",placeholder:"Type the rule text here",radius:"full",...E.ruleText}),(0,s.jsx)(c.B,{errors:g,name:"ruleText",render:e=>{let{message:r}=e;return(0,s.jsx)("p",{className:"text-red-500 text-sm",children:r})}}),(0,s.jsx)(m.E,{fullwidth:!0,classnames:{container:"justify-between"},direction:"row",space:"sm",children:(0,s.jsx)(i.K,{...E.isPublished,onValueChange:e=>{E.isPublished.onChange({target:{value:e}})},children:"Published"})}),(0,s.jsx)(I,{problemsInContest:P,setProblemsInContest:N})]})}},53356:function(e,r,t){"use strict";t.d(r,{N:function(){return l}});var s=t(2265);let n=(0,s.createContext)({}),l=()=>(0,s.useContext)(n)},56868:function(e,r,t){"use strict";t.d(r,{default:function(){return l}});var s=t(57437);t(2265);var n=t(95406);function l(e){let{contest:r,children:t}=e;return(0,s.jsx)(n.ContestProvider,{contest:r,children:t})}},51706:function(e,r,t){"use strict";t.d(r,{B:function(){return l}});var s=t(2265),n=t(39343),l=function(e){var r=e.as,t=e.errors,l=e.name,i=e.message,o=e.render,a=function(e,r){if(null==e)return{};var t,s,n={},l=Object.keys(e);for(s=0;s<l.length;s++)r.indexOf(t=l[s])>=0||(n[t]=e[t]);return n}(e,["as","errors","name","message","render"]),c=(0,n.Gc)(),d=(0,n.U2)(t||c.formState.errors,l);if(!d)return null;var u=d.message,m=d.types,h=Object.assign({},a,{children:u||i});return s.isValidElement(r)?s.cloneElement(r,h):o?o({message:u||i,messages:m}):s.createElement(r||s.Fragment,h)}},22629:function(e,r,t){"use strict";t.d(r,{Z:function(){return l}});var s=t(2265),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */let l=(e,r)=>{let t=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:l=1.5,className:i="",children:o,...a},c)=>{let d={ref:c,...n,width:t,height:t,strokeWidth:l,color:e,className:i,...a};return(0,s.createElement)("svg",d,r?.map(([e,r])=>s.createElement(e,{key:r.id,...r}))??[],...Array.isArray(o)?o:[o])});return t.displayName=`${e}Icon`,t}},37970:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});/**
 * @license hugeicons-react v0.2.0
 *
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(22629).Z)("Add01Icon",[["path",{d:"M12 4V20",stroke:"currentColor",key:"k0"}],["path",{d:"M4 12H20",stroke:"currentColor",key:"k1"}]])},75978:function(e,r,t){"use strict";t.d(r,{O:function(){return k}});var s=t(71228),n=t(5956),l=(0,s.tv)({base:["relative inline-flex items-center outline-none tap-highlight-transparent",...n.Dh],variants:{size:{sm:"text-small",md:"text-medium",lg:"text-large"},color:{foreground:"text-foreground",primary:"text-primary",secondary:"text-secondary",success:"text-success",warning:"text-warning",danger:"text-danger"},underline:{none:"no-underline",hover:"hover:underline",always:"underline",active:"active:underline",focus:"focus:underline"},isBlock:{true:["px-2","py-1","hover:after:opacity-100","after:content-['']","after:inset-0","after:opacity-0","after:w-full","after:h-full","after:rounded-xl","after:transition-background","after:absolute"],false:"hover:opacity-80 active:opacity-disabled transition-opacity"},isDisabled:{true:"opacity-disabled cursor-default pointer-events-none"},disableAnimation:{true:"after:transition-none transition-none"}},compoundVariants:[{isBlock:!0,color:"foreground",class:"hover:after:bg-foreground/10"},{isBlock:!0,color:"primary",class:"hover:after:bg-primary/20"},{isBlock:!0,color:"secondary",class:"hover:after:bg-secondary/20"},{isBlock:!0,color:"success",class:"hover:after:bg-success/20"},{isBlock:!0,color:"warning",class:"hover:after:bg-warning/20"},{isBlock:!0,color:"danger",class:"hover:after:bg-danger/20"},{underline:["hover","always","active","focus"],class:"underline-offset-4"}],defaultVariants:{color:"primary",size:"md",isBlock:!1,underline:"none",isDisabled:!1}}),i=t(60357),o=t(277),a=t(46671),c=t(47961),d=t(89332),u=t(33485),m=t(81866),h=t(26242),f=t(13389),p=t(2285),b=t(53640),x=t(2265),g=t(57437),v=e=>(0,g.jsxs)("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",width:"1em",...e,children:[(0,g.jsx)("path",{d:"M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"}),(0,g.jsx)("path",{d:"M15 3h6v6"}),(0,g.jsx)("path",{d:"M10 14L21 3"})]}),j=(0,m.Gp)((e,r)=>{let{Component:t,children:s,showAnchorIcon:n,anchorIcon:j=(0,g.jsx)(v,{className:"flex mx-1 text-current self-center"}),getLinkProps:k}=function(e){var r,t,s,n;let g=(0,u.w)(),[v,j]=(0,m.oe)(e,l.variantKeys),{ref:k,as:w,children:y,anchorIcon:T,isExternal:C=!1,showAnchorIcon:P=!1,autoFocus:N=!1,className:I,onPress:A,onPressStart:E,onPressEnd:R,onClick:B,...S}=v,Y=(0,h.gy)(k),D=null!=(t=null!=(r=null==e?void 0:e.disableAnimation)?r:null==g?void 0:g.disableAnimation)&&t,{linkProps:O}=function(e,r){let{elementType:t="a",onPress:s,onPressStart:n,onPressEnd:l,onClick:u,isDisabled:m,...h}=e,f={};"a"!==t&&(f={role:"link",tabIndex:m?void 0:0});let{focusableProps:p}=(0,c.k)(e,r),{pressProps:b,isPressed:x}=(0,d.r)({onPress:s,onPressStart:n,onPressEnd:l,isDisabled:m,ref:r}),g=(0,i.z)(h,{labelable:!0,isLink:"a"===t}),v=(0,o.d)(p,b),j=(0,a.tv)(),k=(0,a.eY)(e);return{isPressed:x,linkProps:(0,o.d)(g,k,{...v,...f,"aria-disabled":m||void 0,"aria-current":e["aria-current"],onClick:r=>{var t;null==(t=b.onClick)||t.call(b,r),u&&u(r),!j.isNative&&r.currentTarget instanceof HTMLAnchorElement&&r.currentTarget.href&&!r.isDefaultPrevented()&&(0,a.b0)(r.currentTarget,r)&&e.href&&(r.preventDefault(),j.open(r.currentTarget,r,e.href,e.routerOptions))}})}}({...S,onPress:A,onPressStart:E,onPressEnd:R,onClick:B,isDisabled:e.isDisabled,elementType:"".concat(w)},Y),{isFocused:L,isFocusVisible:M,focusProps:q}=(0,f.F)({autoFocus:N});C&&(S.rel=null!=(s=S.rel)?s:"noopener noreferrer",S.target=null!=(n=S.target)?n:"_blank");let F=(0,x.useMemo)(()=>l({...j,disableAnimation:D,className:I}),[(0,p.Xx)(j),D,I]);return{Component:w||"a",children:y,anchorIcon:T,showAnchorIcon:P,getLinkProps:(0,x.useCallback)(()=>({ref:Y,className:F,"data-focus":(0,b.PB)(L),"data-disabled":(0,b.PB)(e.isDisabled),"data-focus-visible":(0,b.PB)(M),...(0,o.d)(q,O,S)}),[F,L,M,q,O,S])}}({ref:r,...e});return(0,g.jsx)(t,{...k(),children:(0,g.jsxs)(g.Fragment,{children:[s,n&&j]})})});j.displayName="NextUI.Link";var k=j}},function(e){e.O(0,[7322,3954,4876,8725,8829,7778,7997,3760,8530,5956,1822,7270,7496,197,1886,4276,7215,2971,7023,1744],function(){return e(e.s=15707)}),_N_E=e.O()}]);