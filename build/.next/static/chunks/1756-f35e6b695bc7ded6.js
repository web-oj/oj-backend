"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1756],{41210:function(e,t,r){r.d(t,{p:function(){return s}});var l=r(27546),i=r(79248),o=r(2265);function s(e,t){let r=null==t?void 0:t.isDisabled,[s,n]=(0,o.useState)(!1);return(0,i.b)(()=>{if((null==e?void 0:e.current)&&!r){let t=()=>{e.current&&n(!!(0,l.QL)(e.current,{tabbable:!0}).nextNode())};t();let r=new MutationObserver(t);return r.observe(e.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{r.disconnect()}}}),!r&&s}},89512:function(e,t,r){r.d(t,{T:function(){return n}});var l=r(2265);function i(e,t,...r){return{...e,items:[...e.items.slice(0,t),...r,...e.items.slice(t)]}}function o(e,t,r){r-=t.filter(e=>e<r).length;let l=t.map(e=>({from:e,to:r++}));for(let e=0;e<l.length;e++){let t=l[e].from;for(let r=e;r<l.length;r++)l[r].from>t&&l[r].from--}for(let e=0;e<l.length;e++){let t=l[e];for(let r=l.length-1;r>e;r--){let e=l[r];e.from<t.to?t.to++:e.from++}}let i=e.items.slice();for(let e of l){let[t]=i.splice(e.from,1);i.splice(e.to,0,t)}return{...e,items:i}}function s(e,t){var r,l,i,o,s,n,a,c,d,u,f,p,m,y,g,v,b;let x;switch(e.state){case"idle":case"error":switch(t.type){case"loading":case"loadingMore":case"sorting":case"filtering":return{...e,filterText:null!==(r=t.filterText)&&void 0!==r?r:e.filterText,state:t.type,items:"loading"===t.type?[]:e.items,sortDescriptor:null!==(l=t.sortDescriptor)&&void 0!==l?l:e.sortDescriptor,abortController:t.abortController};case"update":return{...e,...null===(i=t.updater)||void 0===i?void 0:i.call(t,e)};case"success":case"error":return e;default:throw Error(`Invalid action "${t.type}" in state "${e.state}"`)}case"loading":case"sorting":case"filtering":switch(t.type){case"success":if(t.abortController!==e.abortController)return e;return x=null!==(o=t.selectedKeys)&&void 0!==o?o:e.selectedKeys,{...e,filterText:null!==(s=t.filterText)&&void 0!==s?s:e.filterText,state:"idle",items:[...null!==(n=t.items)&&void 0!==n?n:[]],selectedKeys:"all"===x?"all":new Set(x),sortDescriptor:null!==(a=t.sortDescriptor)&&void 0!==a?a:e.sortDescriptor,abortController:void 0,cursor:t.cursor};case"error":if(t.abortController!==e.abortController)return e;return{...e,state:"error",error:t.error,abortController:void 0};case"loading":case"loadingMore":case"sorting":case"filtering":return null===(c=e.abortController)||void 0===c||c.abort(),{...e,filterText:null!==(d=t.filterText)&&void 0!==d?d:e.filterText,state:t.type,items:"loading"===t.type?[]:e.items,abortController:t.abortController};case"update":return{...e,...null===(u=t.updater)||void 0===u?void 0:u.call(t,e)};default:throw Error(`Invalid action "${t.type}" in state "${e.state}"`)}case"loadingMore":switch(t.type){case"success":return x="all"===e.selectedKeys||"all"===t.selectedKeys?"all":new Set([...e.selectedKeys,...null!==(f=t.selectedKeys)&&void 0!==f?f:[]]),{...e,state:"idle",items:[...e.items,...null!==(p=t.items)&&void 0!==p?p:[]],selectedKeys:x,sortDescriptor:null!==(m=t.sortDescriptor)&&void 0!==m?m:e.sortDescriptor,abortController:void 0,cursor:t.cursor};case"error":if(t.abortController!==e.abortController)return e;return{...e,state:"error",error:t.error};case"loading":case"sorting":case"filtering":return null===(y=e.abortController)||void 0===y||y.abort(),{...e,filterText:null!==(g=t.filterText)&&void 0!==g?g:e.filterText,state:t.type,items:"loading"===t.type?[]:e.items,abortController:t.abortController};case"loadingMore":return null===(v=t.abortController)||void 0===v||v.abort(),e;case"update":return{...e,...null===(b=t.updater)||void 0===b?void 0:b.call(t,e)};default:throw Error(`Invalid action "${t.type}" in state "${e.state}"`)}default:throw Error(`Invalid state "${e.state}"`)}}function n(e){let{load:t,sort:r,initialSelectedKeys:n,initialSortDescriptor:a,getKey:c=e=>e.id||e.key,initialFilterText:d=""}=e,[u,f]=(0,l.useReducer)(s,{state:"idle",error:void 0,items:[],selectedKeys:"all"===n?"all":new Set(n),sortDescriptor:a,filterText:d}),p=async(e,r)=>{let l=new AbortController;try{var i,o,s;f({...e,abortController:l});let n=null!==(i=e.filterText)&&void 0!==i?i:u.filterText,a=await r({items:u.items.slice(),selectedKeys:u.selectedKeys,sortDescriptor:null!==(o=e.sortDescriptor)&&void 0!==o?o:u.sortDescriptor,signal:l.signal,cursor:"loadingMore"===e.type?u.cursor:void 0,filterText:n}),c=null!==(s=a.filterText)&&void 0!==s?s:n;f({type:"success",...a,abortController:l}),c&&c!==n&&!l.signal.aborted&&p({type:"filtering",filterText:c},t)}catch(e){f({type:"error",error:e,abortController:l})}},m=(0,l.useRef)(!1);return(0,l.useEffect)(()=>{m.current||(p({type:"loading"},t),m.current=!0)},[]),{items:u.items,selectedKeys:u.selectedKeys,sortDescriptor:u.sortDescriptor,isLoading:"loading"===u.state||"loadingMore"===u.state||"sorting"===u.state||"filtering"===u.state,loadingState:u.state,error:u.error,filterText:u.filterText,getItem:e=>u.items.find(t=>c(t)===e),reload(){p({type:"loading"},t)},loadMore(){"loadingMore"!==u.state&&"filtering"!==u.state&&null!=u.cursor&&p({type:"loadingMore"},t)},sort(e){p({type:"sorting",sortDescriptor:e},r||t)},...function(e,t){let{cursor:r,getKey:l}=e;return{setSelectedKeys(e){t(t=>({...t,selectedKeys:e}))},setFilterText(e){t(t=>({...t,filterText:e}))},insert(e,...r){t(t=>i(t,e,...r))},insertBefore(e,...r){t(t=>{let o=t.items.findIndex(t=>(null==l?void 0:l(t))===e);if(-1===o){if(0!==t.items.length)return t;o=0}return i(t,o,...r)})},insertAfter(e,...r){t(t=>{let o=t.items.findIndex(t=>(null==l?void 0:l(t))===e);if(-1===o){if(0!==t.items.length)return t;o=0}return i(t,o+1,...r)})},prepend(...e){t(t=>i(t,0,...e))},append(...e){t(t=>i(t,t.items.length,...e))},remove(...e){t(t=>{let i=new Set(e),o=t.items.filter(e=>!i.has(l(e))),s="all";if("all"!==t.selectedKeys)for(let r of(s=new Set(t.selectedKeys),e))s.delete(r);return null==r&&0===o.length&&(s=new Set),{...t,items:o,selectedKeys:s}})},removeSelectedItems(){t(e=>{if("all"===e.selectedKeys)return{...e,items:[],selectedKeys:new Set};let t=e.selectedKeys,r=e.items.filter(e=>!t.has(l(e)));return{...e,items:r,selectedKeys:new Set}})},move(e,r){t(t=>{let i=t.items.findIndex(t=>l(t)===e);if(-1===i)return t;let o=t.items.slice(),[s]=o.splice(i,1);return o.splice(r,0,s),{...t,items:o}})},moveBefore(e,r){t(t=>{let i=t.items.findIndex(t=>l(t)===e);if(-1===i)return t;let s=(Array.isArray(r)?r:[...r]).map(e=>t.items.findIndex(t=>l(t)===e)).sort((e,t)=>e-t);return o(t,s,i)})},moveAfter(e,r){t(t=>{let i=t.items.findIndex(t=>l(t)===e);if(-1===i)return t;let s=(Array.isArray(r)?r:[...r]).map(e=>t.items.findIndex(t=>l(t)===e)).sort((e,t)=>e-t);return o(t,s,i+1)})},update(e,r){t(t=>{let i=t.items.findIndex(t=>l(t)===e);return -1===i?t:{...t,items:[...t.items.slice(0,i),r,...t.items.slice(i+1)]}})}}}({...e,getKey:c,cursor:u.cursor},e=>{f({type:"update",updater:e})}),setFilterText(e){p({type:"filtering",filterText:e},t)}}}}}]);